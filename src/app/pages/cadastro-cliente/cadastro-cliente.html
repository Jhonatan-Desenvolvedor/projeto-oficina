<div class="cadastro-container">
  <h2>Novo Cliente</h2>

  <div class="card">
    <input [ngModel]="nome()" (ngModelChange)="nome.set($event)" placeholder="Nome">
    <input [ngModel]="telefone()" (ngModelChange)="telefone.set($event)" placeholder="Telefone">
    <input [ngModel]="endereco()" (ngModelChange)="endereco.set($event)" placeholder="Endereço">
  </div>

  <div class="card veiculo-add">
    <h3>Veículo</h3>
    <input [ngModel]="veiculoTemp().marca" (ngModelChange)="veiculoTemp.set({...veiculoTemp(), marca: $event})"
      placeholder="Marca">
      <input [ngModel]="veiculoTemp().modelo" (ngModelChange)="veiculoTemp.set({...veiculoTemp(), modelo: $event})"
        placeholder="Modelo">
    <input [ngModel]="veiculoTemp().placa" (ngModelChange)="veiculoTemp.set({...veiculoTemp(), placa: $event})"
      placeholder="Placa">
    <input [ngModel]="veiculoTemp().cor" (ngModelChange)="veiculoTemp.set({...veiculoTemp(), cor: $event})"
      placeholder="Cor">
    <input type="number" [ngModel]="veiculoTemp().ano" (ngModelChange)="veiculoTemp.set({...veiculoTemp(), ano: $event})" placeholder="Ano">

    <button type="button" (click)="addVeiculo()">Adicionar Veículo</button>
  </div>

  <div class="lista-veiculos">
    @for (v of listaVeiculos(); track v.placa) {
    <div class="veiculo-item">
      {{ v.marca }} - {{ v.placa }}
      <button (click)="removerVeiculo($index)">remover</button>
    </div>
    }
  </div>

  <button class="btn-salvar" (click)="salvarCliente()">Salvar Cliente Completo</button>
</div>